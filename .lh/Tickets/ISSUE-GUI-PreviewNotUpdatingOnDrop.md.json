{
    "sourceFile": "Tickets/ISSUE-GUI-PreviewNotUpdatingOnDrop.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1745858114191,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1745858262336,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,5 +29,21 @@\n \r\n **Debugging Steps Taken:**\r\n - Confirmed `AssetProcessor.__init__` error was fixed.\r\n - Added logging to `PredictionHandler` and `MainWindow`.\r\n-- Logs confirmed `update_preview` is called on drop, but exits early due to no valid preset being selected via `currentItem()`.\n\\ No newline at end of file\n+- Logs confirmed `update_preview` is called on drop, but exits early due to no valid preset being selected via `currentItem()`.\r\n+## Related Changes (Session 2025-04-28)\r\n+\r\n+During a recent session, work was done to implement a feature allowing GUI editing of the file preview list, specifically the file status and predicted output name.\r\n+\r\n+This involved defining a data interface (`ProjectNotes/Data_Structures/Preview_Edit_Interface.md`) and modifying several GUI and backend components.\r\n+\r\n+Key files modified for this feature include:\r\n+- `gui/prediction_handler.py`\r\n+- `gui/preview_table_model.py`\r\n+- `gui/main_window.py`\r\n+- `gui/processing_handler.py`\r\n+- Core `asset_processor` logic\r\n+\r\n+The changes involved passing the editable `file_list` and `asset_properties` data structure through the prediction handler, to the preview table model, and finally to the processing handler. The preview table model was made editable to allow user interaction. The backend logic was updated to utilize this editable data.\r\n+\r\n+Debugging steps taken during this implementation included fixing indentation errors and resolving an `AssetProcessor` instantiation issue that occurred during the prediction phase.\n\\ No newline at end of file\n"
                }
            ],
            "date": 1745858114191,
            "name": "Commit-0",
            "content": "# Issue: GUI Preview Not Updating on File Drop Without Preset Selection\r\n\r\n**ID:** ISSUE-GUI-PreviewNotUpdatingOnDrop\r\n**Date:** 2025-04-28\r\n**Status:** Open\r\n**Priority:** High\r\n\r\n**Description:**\r\nThe file preview list (`QTableView` in the main panel) does not populate when files or folders are dropped onto the application if a valid preset has not been explicitly selected *after* the application starts and *before* the drop event.\r\n\r\n**Root Cause:**\r\n- The `add_input_paths` method in `gui/main_window.py` correctly calls `update_preview` after files are added via drag-and-drop.\r\n- However, the `update_preview` method checks `self.editor_preset_list.currentItem()` to get the selected preset.\r\n- If no preset is selected, or if the placeholder \"--- Select a Preset ---\" is selected, `update_preview` correctly identifies this and returns *before* starting the `PredictionHandler` thread.\r\n- This prevents the file prediction from running and the preview table from being populated, even if assets have been added.\r\n\r\n**Expected Behavior:**\r\nDropping files should trigger a preview update based on the last valid preset selected by the user, or potentially prompt the user to select a preset if none has ever been selected. The preview should not remain empty simply because the user hasn't re-clicked the preset list immediately before dropping files.\r\n\r\n**Proposed Solution:**\r\n1.  Modify `MainWindow` to store the last validly selected preset path.\r\n2.  Update the `update_preview` method:\r\n    - Instead of relying solely on `currentItem()`, use the stored last valid preset path if `currentItem()` is invalid or the placeholder.\r\n    - If no valid preset has ever been selected, display a clear message in the status bar or a dialog box prompting the user to select a preset first.\r\n    - Ensure the prediction handler is triggered with the correct preset name based on this updated logic.\r\n\r\n**Affected Files:**\r\n- `gui/main_window.py`\r\n\r\n**Debugging Steps Taken:**\r\n- Confirmed `AssetProcessor.__init__` error was fixed.\r\n- Added logging to `PredictionHandler` and `MainWindow`.\r\n- Logs confirmed `update_preview` is called on drop, but exits early due to no valid preset being selected via `currentItem()`."
        }
    ]
}